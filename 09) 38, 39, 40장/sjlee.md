# 38. 브라우저의 렌더링 과정
- 파싱 : 프로그래밍 언어의 문법에 맞게 작성된 텍스트 문서를 읽어 들여 토큰으로 분해하고 파스트리를 생성하는 일련의 과정
- 렌더링 과정
브라우저가 렌더링에 필요한 리소스를 요청하면, 서버로 부터 응답을 받는다   
주소창에 URI를 입력하면 URL의 호스트 이름이 DNS을 통해 IP주소로 변환되어 서버에 전송된다. (암묵적으로 index.html 응답하도록 설정되어 있음   
서버로 부터 응답 받은 HTML, CSS 를 파싱하여 DOM, CSSOM 을 생성하고 이를 결합하여 렌더 트리를 생성한다   
HTML 파싱하는 중에 외부 리소스를 로드하는 태그를 만나면 파싱을 일시 중단하고 해당 리소스 파일을 서버로 요청한다.   
응답 받은 HTML 문서는 순수한 텍스트이다. 이를 브라우저에 시각적인 픽셀로 렌더링 하려면 브라우저가 이해할 수 있는 자료구조로 변환하여 메모리에 저장해야 한다.   
요청을 받으면 서버는 저장된 HTML 문서를 2진수로 된 바이트로 응답하고, 이를 meta 태그에 지정된 인코딩 방식으로 문자열로 반환시킨다. (예:UTF-8)   
이를 다시 문법적 의미를 갖는 코드의 최소 단위인 토큰으로 분해 한다.   
각 토큰을 객체로 변환하여 노드를 생성한다. 노드는 DOM의 최소 단위 이다.   
자바스크립트 엔진은 서버로 부터 응답 받은 자바스크립트를 파싱하여 AST를 생성하고, 바이트 코드로 변환하여 실행한다. 이때 자바스크립트는 DOM API를 이용하여 DOM 이나 CSSOM을 변경할 수 있다.   

- 렌더트리를 기반으로 레이아웃을 계산하고, 브라우저 화면에 HTML 요소를 페인팅 한다.

### async / defer 

- async 속성
HTML 파싱과 외부 자바스크립트 파일의 로드가 비동기적으로 동시에 진행됨
자바스크립트 파싱과 실행은 파일 로드가 완료된 직후에 실행되고, HTML 파싱이 중단된다. 여러개의 script 태그에 지정하면 순서와는 상관 없이 로드가 완료된 자바스크립트부터 먼저 실행되어 실행 순서가 보장되지 않는다

- defer 속성
HTML 파싱과 외부 자바스크립트 파일의 로드가 비동기적으로 동시에 진행됨
자바스크립의 파싱과 실행은 HTML 파싱이 완료된 직후에, 즉 DOM 생성이 완료된 직후에 진행된다.

# 39. DOM

### DOM은 HTML 문서의 계층적 구조와 정보를 표현하며 이를 제어할 수 있는 API, 즉 프로퍼티와 메서드를 제공하는 트리 자료구조

- 노드 상속구조
![image](https://github.com/DoctorK4/mjs-deepdive/assets/91999276/b7503324-4843-4d34-92fe-3f7998e11e7f)

- 요소 노득 취득   
childNodes 프로퍼티가 반환하는 NodeList 객체는 HTMLCollection 객체와 동일하게 실시간 객체로 동작하므로 주의
- 노드 교체, 이동, 삭제

# 40. Event
- 이벤트루프   
이벤트 루프(Event Loop)는 call stack이 다 비워지면 callback queue에 존재하는 함수를 하나씩 call stack으로 옮기는 역할   
- 콜스택   
콜스택(Call Stack)은 실행된 코드의 환경을 저장하는 자료구조로, 함수 호출 시 이곳에 저장됨. 어떤 함수를 저장하면 스택에 쌓고 또 다른 함수를 호출하면 그 다음 스택에 쌓이면서 가장 위에 쌓인 함수를 가장 먼저 처리 LIFO(Last In First Out)   
- webAPI   
Web API는 브라우저에서 제공하는 API로 DOM, Ajax, TimeOut 등이 있음. CallStack에서 실행된 비동기 함수는 Web API를 호출하고, Web API는 콜백 함수를 Task Queue로!  
- 콜백큐   
콜백큐(Callback Queue)는 함수를 저장하는 자료구조로, Call Stack과 다르게 가장 먼저 들어온 함수를 가장 먼저 처리   

### 이벤트 버블링
이벤트가 하위 요소에서 상위 요소 방향으로 전파

### 이벤트 캡처링
이벤트가 상위 요소에서 하위 요소 방향으로 전파
  

# 브라우저 질문 
- 브라우저 렌더링 원리(과정)에 대해서 설명해주세요
- script 파일 async과 defer 차이
- script 파일은 왜 위아래에 있는걸까요? 예시.
- script 파일은 파일별 document 객체를 가진다. (O/X)
- Reflow와 Repaint가 실행되는 시점
- HTML 렌더링 중에 JavaScript가 실행되면 렌더링이 멈추는 이유?
- 이벤트 버블링과 캡쳐링에 대해 설명해주세요
- 버블링과 캡쳐링의 예시
- stopPropagation이란?
- mouseenter와 mousemove의 차이는?
  
